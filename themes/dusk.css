/* @theme dusk */

/*
  Dusk Theme for Marp - Twilight Warmth
  Subtle purple-to-amber gradients with warm, sophisticated tones
  Inspired by the golden hour and twilight sky
*/

@import "default";
@import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600&family=IBM+Plex+Mono:wght@400;500&display=swap');

/* ==================== DESIGN TOKENS ==================== */

:root {
  /* Primary palette - Twilight */
  --dusk-plum: #4c3a51;
  --dusk-plum-light: #6b5570;
  --dusk-mauve: #8b7389;
  --dusk-rose: #c9a9a6;
  --dusk-peach: #e8c4a2;
  --dusk-amber: #d4915d;
  --dusk-cream: #faf6f2;
  --dusk-cream-warm: #f5ede5;
  --dusk-charcoal: #2d2a2e;
  --dusk-gray: #5c5760;

  /* Accent */
  --dusk-highlight: rgba(212, 145, 93, 0.2);
  --dusk-border: rgba(76, 58, 81, 0.15);

  /* Typography */
  --font-display: 'Source Serif 4', Georgia, serif;
  --font-body: 'Source Sans 3', system-ui, sans-serif;
  --font-mono: 'IBM Plex Mono', monospace;

  /* Spacing scale */
  --space-2xs: 0.25rem;
  --space-xs: 0.5rem;
  --space-sm: 0.75rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;

  /* Borders & Shadows */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --shadow-soft: 0 2px 12px rgba(76, 58, 81, 0.08);
  --shadow-medium: 0 4px 20px rgba(76, 58, 81, 0.12);
}

/* ==================== BASE SECTION ==================== */

section {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  background: linear-gradient(
    165deg,
    var(--dusk-cream) 0%,
    var(--dusk-cream-warm) 100%
  );
  font-family: var(--font-body);
  font-size: 26px;
  font-weight: 400;
  color: var(--dusk-charcoal);
  padding: 88px var(--space-2xl) var(--space-xl);
  line-height: 1.65;
  letter-spacing: 0;
}

/* Subtle gradient accent at top */
section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(
    90deg,
    var(--dusk-plum) 0%,
    var(--dusk-mauve) 40%,
    var(--dusk-rose) 70%,
    var(--dusk-amber) 100%
  );
}

/* ==================== HEADINGS ==================== */

h1 {
  font-family: var(--font-display);
  font-size: 1.9em;
  font-weight: 600;
  color: var(--dusk-plum);
  border-bottom: 2px solid var(--dusk-rose);
  padding-bottom: var(--space-xs);
  margin-bottom: var(--space-lg);
  line-height: 1.25;
  letter-spacing: -0.01em;
}

h2 {
  font-family: var(--font-display);
  font-size: 1.4em;
  font-weight: 600;
  color: var(--dusk-plum);
  margin-top: var(--space-lg);
  margin-bottom: var(--space-md);
}

h3, h4, h5, h6 {
  font-family: var(--font-display);
  font-weight: 600;
  color: var(--dusk-plum-light);
  margin-top: var(--space-md);
  margin-bottom: var(--space-sm);
}

h3 { font-size: 1.2em; }
h4 { font-size: 1.1em; }

/* ==================== TEXT ELEMENTS ==================== */

section p {
  margin-top: var(--space-sm);
  margin-bottom: var(--space-sm);
  line-height: 1.7;
  font-size: 28px;
}

section li {
  margin-top: var(--space-xs);
  margin-bottom: var(--space-xs);
  line-height: 1.6;
  font-size: 26px;
  color: var(--dusk-charcoal);
}

li::marker {
  color: var(--dusk-amber);
  font-weight: 600;
}

/* Emphasis styles */
section em {
  color: var(--dusk-charcoal);
  background: linear-gradient(
    180deg,
    transparent 60%,
    var(--dusk-highlight) 60%
  );
  font-style: normal;
  font-weight: 500;
  padding: 0 var(--space-2xs);
}

section strong {
  color: var(--dusk-plum);
  font-weight: 600;
}

/* Links */
a {
  color: var(--dusk-amber);
  text-decoration: underline;
  text-decoration-color: var(--dusk-rose);
  text-underline-offset: 3px;
  transition: all 0.2s ease;
}

a:hover {
  color: var(--dusk-plum);
  text-decoration-color: var(--dusk-plum);
}

/* ==================== CODE ==================== */

code {
  font-family: var(--font-mono);
  font-size: 0.85em;
  background: rgba(76, 58, 81, 0.08);
  color: var(--dusk-plum);
  padding: 0.15em 0.45em;
  border-radius: var(--radius-sm);
  border: 1px solid var(--dusk-border);
}

pre {
  background: var(--dusk-charcoal);
  border-radius: var(--radius-md);
  padding: var(--space-sm) var(--space-md);
  margin: var(--space-sm) 0;
  overflow-x: auto;
  box-shadow: var(--shadow-medium);
  max-height: 280px;
}

pre code {
  background: none;
  border: none;
  color: var(--dusk-cream);
  padding: 0;
  font-size: 0.7em;
  line-height: 1.5;
}

/* ==================== BLOCKQUOTE ==================== */

section blockquote {
  border-left: 4px solid var(--dusk-amber);
  background: linear-gradient(
    90deg,
    var(--dusk-highlight) 0%,
    transparent 100%
  );
  padding: var(--space-md) var(--space-lg);
  margin: var(--space-lg) 0;
  font-style: italic;
  color: var(--dusk-gray);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

section blockquote p {
  font-size: 1em;
  line-height: 1.6;
  margin: 0;
}

section blockquote strong {
  color: var(--dusk-plum);
}

/* ==================== TABLES ==================== */

section table {
  width: auto;
  margin: var(--space-lg) auto;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.85em;
  border-radius: var(--radius-md);
  overflow: hidden;
  box-shadow: var(--shadow-soft);
}

section table th {
  background: var(--dusk-plum);
  color: var(--dusk-cream);
  font-weight: 600;
  padding: var(--space-sm) var(--space-md);
  text-align: left;
  letter-spacing: 0.02em;
}

section table td {
  padding: var(--space-sm) var(--space-md);
  border-bottom: 1px solid var(--dusk-border);
  background: var(--dusk-cream);
}

section table tr:nth-child(even) td {
  background: var(--dusk-cream-warm);
}

section table tr:last-child td {
  border-bottom: none;
}

/* ==================== IMAGES ==================== */

img {
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-medium);
}

img[alt~="center"] {
  display: block;
  margin: var(--space-lg) auto;
}

section figcaption {
  font-size: 0.75em;
  color: var(--dusk-gray);
  text-align: center;
  padding-top: var(--space-sm);
  font-style: italic;
}

/* ==================== PAGE NUMBER ==================== */

section::after {
  font-family: var(--font-mono);
  font-size: 0.5em;
  font-weight: 500;
  color: var(--dusk-mauve);
  content: attr(data-marpit-pagination) ' / ' attr(data-marpit-pagination-total);
  position: absolute;
  bottom: var(--space-md);
  right: var(--space-xl);
  letter-spacing: 0.05em;
}

/* ==================== COLUMNS ==================== */

.columns {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-lg);
}

.columns p {
  font-size: 24px;
  line-height: 1.6;
}

.columns ol, .columns ul {
  font-size: 22px;
  line-height: 1.7;
}

.columns-center {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--space-lg);
  justify-items: center;
  align-items: center;
}

.columns3 {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--space-md);
}

/* ==================== TITLEPAGE ==================== */

section.titlepage {
  background: linear-gradient(
    150deg,
    var(--dusk-plum) 0%,
    var(--dusk-plum-light) 50%,
    var(--dusk-mauve) 100%
  );
  justify-content: center;
  padding: var(--space-3xl);
}

section.titlepage::before {
  display: none;
}

section.titlepage h1 {
  font-size: 2.4em;
  font-weight: 700;
  color: var(--dusk-cream);
  border-bottom: 3px solid var(--dusk-peach);
  padding-bottom: var(--space-md);
  margin-bottom: var(--space-lg);
  line-height: 1.15;
}

section.titlepage h2 {
  font-size: 1.3em;
  font-weight: 400;
  color: var(--dusk-rose);
  margin-top: 0;
  margin-bottom: var(--space-2xl);
}

section.titlepage h3,
section.titlepage h4,
section.titlepage h5 {
  font-family: var(--font-body);
  font-weight: 500;
  color: var(--dusk-peach);
  text-align: right;
  line-height: 1.4;
  margin: var(--space-xs) 0;
}

section.titlepage footer,
section.titlepage header,
section.titlepage::after {
  display: none;
}

/* ==================== TRANSITION ==================== */

section.transition {
  background: linear-gradient(
    135deg,
    var(--dusk-plum) 0%,
    var(--dusk-mauve) 100%
  );
  justify-content: center;
  align-items: center;
  text-align: center;
}

section.transition::before {
  display: none;
}

section.transition h1,
section.transition h2 {
  font-family: var(--font-display);
  color: var(--dusk-cream);
  font-size: 2.2em;
  font-weight: 600;
  border: none;
}

section.transition p {
  color: var(--dusk-peach);
  font-size: 1.2em;
}

section.transition footer,
section.transition header,
section.transition::after {
  display: none;
}

/* ==================== DARK VARIANT ==================== */

section.dark {
  background: linear-gradient(
    165deg,
    var(--dusk-charcoal) 0%,
    #1e1b1f 100%
  );
  color: var(--dusk-cream);
}

section.dark::before {
  background: linear-gradient(
    90deg,
    var(--dusk-amber) 0%,
    var(--dusk-rose) 50%,
    var(--dusk-mauve) 100%
  );
}

section.dark h1 {
  color: var(--dusk-cream);
  border-bottom-color: var(--dusk-amber);
}

section.dark h2, section.dark h3, section.dark h4 {
  color: var(--dusk-peach);
}

section.dark p, section.dark li {
  color: rgba(250, 246, 242, 0.9);
}

section.dark em {
  color: var(--dusk-cream);
  background: linear-gradient(
    180deg,
    transparent 60%,
    rgba(212, 145, 93, 0.3) 60%
  );
}

section.dark strong {
  color: var(--dusk-peach);
}

section.dark code {
  background: rgba(250, 246, 242, 0.1);
  color: var(--dusk-peach);
  border-color: rgba(250, 246, 242, 0.15);
}

section.dark blockquote {
  background: linear-gradient(
    90deg,
    rgba(212, 145, 93, 0.15) 0%,
    transparent 100%
  );
}

section.dark::after {
  color: var(--dusk-mauve);
}

/* ==================== COMPACT ==================== */

section.compact p {
  font-size: 22px;
  line-height: 1.5;
}

section.compact li {
  font-size: 20px;
  line-height: 1.5;
}

/* ==================== POSITIONING UTILITIES ==================== */

.topleft { position: absolute; top: 88px; left: var(--space-xl); }
.topright { position: absolute; top: 88px; right: var(--space-xl); }
.bottomleft { position: absolute; bottom: var(--space-xl); left: var(--space-xl); }
.bottomright { position: absolute; bottom: var(--space-xl); right: var(--space-xl); }
.centered {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}
.center { text-align: center; }
.right { text-align: right; }

/* ==================== TEXT UTILITIES ==================== */

.text-plum { color: var(--dusk-plum); }
.text-amber { color: var(--dusk-amber); }
.text-rose { color: var(--dusk-rose); }
.text-small { font-size: 0.8em; }
.text-large { font-size: 1.2em; }
.text-muted { color: var(--dusk-gray); }

/* ==================== SPACING UTILITIES ==================== */

.mt-0 { margin-top: 0; }
.mb-0 { margin-bottom: 0; }
.mt-md { margin-top: var(--space-md); }
.mb-md { margin-bottom: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mb-lg { margin-bottom: var(--space-lg); }

/* ==================== SYNTAX HIGHLIGHTING ==================== */

pre code .hljs-tag,
pre code .hljs-name {
  color: var(--dusk-amber);
}

pre code .hljs-attr {
  color: #a5d6ff;
}

pre code .hljs-string {
  color: #7ee787;
}

pre code .hljs-comment {
  color: #8b949e;
}

pre code .hljs-keyword {
  color: var(--dusk-rose);
}

pre code .hljs-function,
pre code .hljs-title {
  color: var(--dusk-peach);
}

pre code .hljs-variable,
pre code .hljs-property {
  color: #ffa657;
}

pre code .hljs-number {
  color: #79c0ff;
}
